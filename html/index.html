<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>Pryv Access Token Generation</title>
    <link rel="icon" href="logoPryv.png">
    <script src="scriptBrowserify.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>

<div class="title">
    <h1>Pryv Access Token Generation</h1>
</div>

<div class="container">
    <div class="boxDiv">
        <h2>How to</h2>
        <ol>
            <li>Enter the <u>Application ID</u> that you will use in your app</li>
            <li>Setup the streams you will request access to in the <u>Permissions</u> Box</li>
            <li>Press the <u>Request Access</u> button</li>
            <li><u>Sign in</u> with your username and password</li>
            <li><u>Authorize</u> the Application access to your account</li>
            <li>Copy the <u>Access token</u> and use it to in your apps</li>
        </ol>
    </div>

    <div class="boxDiv">
        <h3>Permissions</h3>
        This defines the streams that your access token will be allowed to manipulate.<br>
        If you request permissions for streams that don't yet exist, they will be created on the
        user's account upon user authorization. You are required to provide a defaultName in
        this case.<br>

        <h4>The <u>level</u> must be one of the following values:</h4>
        <ul>
            <li><u>read</u>: Allows to get the stream's values.</li>
            <li><u>contribute</u>: Read and generate new content.</li>
            <li><u>manage</u>: Contribute, update and delete.</li>
        </ul>

        Fill the fields <u>streamId</u>, <u>level</u> and <u>defaultName</u> (optional) and
        click the <u>Add</u> button or edit the textArea directly with a JSON array where each
        item contains the aforementioned fields.<br><br>

        If the <u>Master Token</u> option is checked, it will set the level <u>manage</u> on all
        streams for the selected app.<br><br>

        Use the <u>Clear</u> button to erase the content of the Permissions Area.
    </div>
    <table>
        <tr>
            <td class="leftColumn"><p><u>Register URL</u></p></td>
            <td class="rightColumn"><p id="registerUrlText"></p></td>
        </tr>
        <tr>
            <td class="leftColumn"><p><u>Application ID</u> (min length: 6)</p></td>
            <td class="rightColumn"><input id='requestingAppId' type='text' placeholder='Insert your Application ID'/></td>
        </tr>
        <tr>
            <td class="leftColumn">
                <p><u>Permissions</u></p>
                <div class="checkboxDiv">
                    <input type="checkbox" name="masterToken" id="masterToken">
                    <label for="masterToken">Master Token</label>
                </div>
            </td>
            <td class="rightColumn">
                <div id="permissionsViewInactive"></div>
                <div id="permissionsViewActive">
                    <div class="addStreamDiv">
                        <input id='streamId' type='text' placeholder='StreamId'/><br>
                        <select id="level">
                            <option value="read">Read</option>
                            <option value="contribute">Contribute</option>
                            <option value="manage">Manage</option>
                        </select><br>
                        <input id='name' type='text' placeholder='Name (optional)'/><br>
                        <input id='addPermission' type="button" value="Add">
                        <input id='clearPermissionArea' type="button" value="Clear">
                    </div>
                    <div class="streamListDiv">
                        <textarea id='permissionsArea'></textarea>
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input id='submitButton' type='submit' value='Request Access'>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div id="pryvButtonHolder">
                    <span id='pryvButton'></span>
                </div>
            </td>
        </tr>
        <tr>
            <td class="leftColumn"><p><u>Username</u></p></td>
            <td class="rightColumn"><p id="usernameArea"></p></td>
        </tr>
        <tr>
            <td class="leftColumn"><p><u>Access token</u></p></td>
            <td class="rightColumn"><p id="tokenArea"></p></td>
        </tr>
    </table>
    <div class="consoleDiv">
        <h3>Console</h3>
        <textarea id="console" cols="150" rows="10"></textarea>
    </div>
</div>
</body>
</html>